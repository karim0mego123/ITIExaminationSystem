@{
	Layout = null;
}
@model List<InstructorExamDto>

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>ITI Instructor - Exam Management</title>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
	<link rel="icon" type="image/png" href="/images/Gemini_Generated_Image_vi5243vi5243vi52.png">
	<style>
		/* =========================================
								   VARIABLES & RESET
						========================================= */
		:root {
			--primary: #667eea;
			--primary-light: #764ba2;
			--primary-dark: #4c51bf;
			--accent: #f093fb;
			--accent-secondary: #f5576c;
			--success: #10b981;
			--warning: #f59e0b;
			--danger: #ef4444;
			--dark: #0a0e27;
			--gray: rgba(255, 255, 255, 0.6);
			--light-bg: rgba(255, 255, 255, 0.05);
			--card-bg: rgba(255, 255, 255, 0.05);
			--white: #ffffff;
		}

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: 'Inter', sans-serif;
		}

		body {
			min-height: 100vh;
			background: #0a0e27;
			overflow-x: hidden;
			position: relative;
		}

			body::before {
				content: '';
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0f1729 100%);
				z-index: 0;
			}

			body::after {
				content: '';
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-image: linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
				background-size: 50px 50px;
				z-index: 1;
				pointer-events: none;
			}

		/* Animated Shapes */
		.shape {
			position: fixed;
			border-radius: 50%;
			filter: blur(60px);
			opacity: 0.3;
			animation: float 20s infinite ease-in-out;
			z-index: 0;
		}

		.shape-1 {
			width: 400px;
			height: 400px;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			top: -10%;
			left: -5%;
			animation-delay: 0s;
		}

		.shape-2 {
			width: 350px;
			height: 350px;
			background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
			bottom: -10%;
			right: -5%;
			animation-delay: 5s;
		}

		.shape-3 {
			width: 300px;
			height: 300px;
			background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			animation-delay: 10s;
		}

		@@keyframes float {
			0%, 100% {
				transform: translate(0, 0) scale(1);
			}

			33% {
				transform: translate(30px, -30px) scale(1.1);
			}

			66% {
				transform: translate(-20px, 20px) scale(0.9);
			}
		}

		/* =========================================
								   CAROUSEL STYLES
						========================================= */
		.carousel-btn-circle {
			width: 50px;
			height: 50px;
			border-radius: 50%;
			border: 2px solid #667eea;
			background: #214F72;
			display: flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			transition: all 0.3s ease;
			box-shadow: 0 2px 8px rgba(0,0,0,0.1);
		}

			.carousel-btn-circle:hover:not(:disabled) {
				background: #2a5f87;
				transform: scale(1.1);
				box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
			}

				.carousel-btn-circle:hover:not(:disabled) svg {
					stroke: white;
				}

			.carousel-btn-circle:disabled {
				opacity: 0.4;
				cursor: not-allowed;
				border-color: #214F72;
			}

				.carousel-btn-circle:disabled svg {
					stroke: #ccc;
				}

			.carousel-btn-circle:active:not(:disabled) {
				transform: scale(0.95);
			}

		.carousel-controls {
			display: flex;
			justify-content: center;
			align-items: center;
			gap: 20px;
			margin: 20px 0;
		}

		.carousel-info {
			min-width: 120px;
			text-align: center;
		}

		.carousel-indicator {
			font-size: 14px;
			color: #94a3b8;
		}

		#currentPage, #totalPages {
			font-weight: 600;
			color: #667eea;
		}

		.carousel-dots {
			display: flex;
			justify-content: center;
			align-items: center;
			gap: 8px;
			margin-top: 20px;
			padding: 15px 0;
		}

		.carousel-dot {
			width: 10px;
			height: 10px;
			border-radius: 50%;
			background: rgba(255, 255, 255, 0.3);
			border: none;
			cursor: pointer;
			transition: all 0.3s ease;
			padding: 0;
		}

			.carousel-dot:hover {
				background: rgba(255, 255, 255, 0.5);
				transform: scale(1.2);
			}

			.carousel-dot.active {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				width: 30px;
				border-radius: 5px;
				box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
			}

		.table-carousel-container {
			overflow-x: auto;
			border-radius: 12px;
			margin: 20px 0;
		}

		/* =========================================
								   GENERAL STYLES
						========================================= */
		.hidden {
			display: none !important;
		}

		.fade-in {
			animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
		}

		@@keyframes fadeIn {
			from {
				opacity: 0;
				transform: translateY(20px);
			}

			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		#dashboard-view {
			min-height: 100vh;
			display: flex;
			flex-direction: column;
			position: relative;
			z-index: 10;
		}

		/* =========================================
								   HEADER
						========================================= */
		.admin-header {
			background: rgba(255, 255, 255, 0.05);
			backdrop-filter: blur(20px);
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 32px;
			padding: 20px 30px;
			margin: 20px;
			display: flex;
			align-items: center;
			justify-content: space-between;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1);
			position: sticky;
			top: 20px;
			z-index: 50;
			animation: slideUp 0.6s ease-out;
		}

		@@keyframes slideUp {
			from {
				opacity: 0;
				transform: translateY(30px);
			}

			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.admin-header::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 1px;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
		}

		.header-left {
			display: flex;
			align-items: center;
			gap: 1rem;
		}

		.nav-logo-box {
			width: 50px;
			height: 50px;
			border-radius: 15px;
			box-shadow: 0 10px 40px rgba(102, 126, 234, 0.4);
			background-image: url("/images/ITI.jpg");
			background-size: cover;
			background-position: center;
			transition: transform 0.3s ease;
		}

			.nav-logo-box:hover {
				transform: rotate(5deg) scale(1.05);
			}

		.header-title {
			font-size: 1.5rem;
			font-weight: 800;
			background: linear-gradient(135deg, #fff 0%, #a8b3ff 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		.nav-links {
			display: flex;
			gap: 0.5rem;
		}

		.nav-link {
			background: rgba(255, 255, 255, 0.08);
			border: 2px solid rgba(255, 255, 255, 0.1);
			color: rgba(255, 255, 255, 0.8);
			padding: 10px 24px;
			border-radius: 14px;
			cursor: pointer;
			font-weight: 600;
			font-size: 0.95rem;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			text-decoration: none;
			position: relative;
		}

			.nav-link:hover {
				color: white;
				border-color: #667eea;
				background: rgba(102, 126, 234, 0.15);
				transform: translateY(-2px);
			}

			.nav-link.active {
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: white;
				border-color: #667eea;
				box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
			}

		.logout-btn {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			color: white;
			border: none;
			box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
		}

			.logout-btn:hover {
				transform: translateY(-2px);
				box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
			}

		/* =========================================
								   MAIN CONTENT
						========================================= */
		.main-content {
			flex: 1;
			padding: 0 20px 40px;
			position: relative;
			z-index: 10;
		}

		.stats-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
			gap: 20px;
			margin-bottom: 30px;
		}

		.stat-card {
			background: rgba(255, 255, 255, 0.05);
			backdrop-filter: blur(20px);
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 24px;
			padding: 30px;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1);
			display: flex;
			align-items: center;
			gap: 20px;
			transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			animation: slideUp 0.6s ease-out backwards;
		}

			.stat-card:nth-child(1) {
				animation-delay: 0.1s;
			}

			.stat-card:nth-child(2) {
				animation-delay: 0.2s;
			}

			.stat-card:nth-child(3) {
				animation-delay: 0.3s;
			}

			.stat-card:nth-child(4) {
				animation-delay: 0.4s;
			}

			.stat-card:hover {
				transform: translateY(-8px) scale(1.02);
				box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4);
			}

		.stat-icon {
			width: 60px;
			height: 60px;
			border-radius: 16px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1.8rem;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			color: white;
			box-shadow: 0 10px 40px rgba(102, 126, 234, 0.4);
			transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
		}

		.stat-card:hover .stat-icon {
			transform: rotate(360deg) scale(1.1);
		}

		.stat-info h3 {
			font-size: 0.85rem;
			color: rgba(255, 255, 255, 0.7);
			font-weight: 700;
			text-transform: uppercase;
			letter-spacing: 1px;
			margin-bottom: 8px;
		}

		.stat-info p {
			font-size: 2.5rem;
			font-weight: 900;
			color: #ffffff;
			line-height: 1;
		}

		/* =========================================
								   DATA PANEL
						========================================= */
		.data-panel {
			background: rgba(255, 255, 255, 0.05);
			backdrop-filter: blur(20px);
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 32px;
			padding: 40px;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1);
			position: relative;
			animation: slideUp 0.6s ease-out 0.5s backwards;
		}

		.panel-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 30px;
			padding-bottom: 25px;
			border-bottom: 1px solid rgba(255, 255, 255, 0.1);
		}

		.panel-title {
			font-size: 2rem;
			font-weight: 900;
			background: linear-gradient(135deg, #fff 0%, #a8b3ff 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		.btn-add {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			color: white;
			border: none;
			padding: 12px 24px;
			border-radius: 14px;
			font-weight: 600;
			font-size: 1rem;
			cursor: pointer;
			transition: all 0.3s;
			box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
		}

			.btn-add:hover {
				transform: translateY(-2px);
				box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
			}

		/* =========================================
								   TABLE - FIXED FOR BUTTON CLICKS
						========================================= */
		table {
			width: 100%;
			border-collapse: separate;
			border-spacing: 0;
			position: relative;
			z-index: 1;
		}

		thead tr {
			background: rgba(255, 255, 255, 0.08);
			backdrop-filter: blur(10px);
		}

		th {
			padding: 20px;
			text-align: left;
			color: rgba(255, 255, 255, 0.7);
			font-weight: 700;
			font-size: 0.85rem;
			text-transform: uppercase;
			letter-spacing: 1px;
			border-bottom: 1px solid rgba(255, 255, 255, 0.1);
		}

		tbody {
			position: relative;
			z-index: 2;
		}

			tbody tr {
				border-bottom: 1px solid rgba(255, 255, 255, 0.1);
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
				background: rgba(255, 255, 255, 0.03);
				position: relative;
				z-index: 3;
			}

				tbody tr:hover {
					background: rgba(255, 255, 255, 0.08);
					transform: translateX(8px);
					box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
					z-index: 4;
				}

		td {
			padding: 20px;
			color: rgba(255, 255, 255, 0.8);
			position: relative;
			z-index: 5;
		}

		tbody tr:hover td {
			color: #ffffff;
		}

		/* =========================================
								   BADGES
						========================================= */
		.badge {
			padding: 8px 16px;
			border-radius: 12px;
			font-size: 0.85rem;
			font-weight: 700;
			display: inline-block;
			transition: all 0.3s;
		}

		.badge-purple {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			color: white;
			box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
		}

		.badge-success {
			background: linear-gradient(135deg, #10b981 0%, #059669 100%);
			color: white;
			box-shadow: 0 5px 20px rgba(16, 185, 129, 0.3);
		}

		.badge-warning {
			background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
			color: white;
			box-shadow: 0 5px 20px rgba(245, 158, 11, 0.3);
		}

		.badge-danger {
			background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
			color: white;
			box-shadow: 0 5px 20px rgba(239, 68, 68, 0.3);
		}

		/* =========================================
								   ACTION BUTTONS - FIXED FOR CLICKS
						========================================= */
		.action-btn {
			padding: 10px 20px;
			border-radius: 12px;
			font-size: 0.875rem;
			font-weight: 700;
			cursor: pointer !important;
			transition: all 0.3s;
			border: none;
			margin-right: 8px;
			position: relative;
			z-index: 100 !important;
			pointer-events: auto !important;
			display: inline-block;
		}

		.btn-view {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			color: white;
			box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
		}

		.btn-edit {
			background: linear-gradient(135deg, #10b981 0%, #059669 100%);
			color: white;
			box-shadow: 0 5px 20px rgba(16, 185, 129, 0.3);
			z-index: 150 !important;
		}

		.btn-delete {
			background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
			color: white;
			box-shadow: 0 5px 20px rgba(239, 68, 68, 0.3);
			z-index: 150 !important;
		}

		.action-btn:hover {
			transform: translateY(-3px);
		}

		/* =========================================
								   MODAL
						========================================= */
		.modal-overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.75);
			display: flex;
			justify-content: center;
			align-items: center;
			z-index: 1000;
			backdrop-filter: blur(8px);
		}

		.modal-box {
			background: rgba(255, 255, 255, 0.05);
			backdrop-filter: blur(20px);
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 32px;
			padding: 40px;
			width: 90%;
			max-width: 600px;
			max-height: 90vh;
			overflow-y: auto;
			box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
			animation: modalSlideIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		}

		@@keyframes modalSlideIn {
			from {
				opacity: 0;
				transform: translateY(-50px) scale(0.95);
			}

			to {
				opacity: 1;
				transform: translateY(0) scale(1);
			}
		}

		.modal-title {
			font-size: 2rem;
			font-weight: 900;
			background: linear-gradient(135deg, #fff 0%, #a8b3ff 100%);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			margin-bottom: 25px;
			padding-bottom: 15px;
			border-bottom: 1px solid rgba(255, 255, 255, 0.1);
		}

		.form-group {
			margin-bottom: 24px;
		}

			.form-group label {
				display: block;
				font-weight: 600;
				margin-bottom: 10px;
				color: rgba(255, 255, 255, 0.7);
				font-size: 0.875rem;
				text-transform: uppercase;
				letter-spacing: 0.025em;
			}

		.form-input, .form-select {
			width: 100%;
			padding: 14px 18px;
			background: rgba(255, 255, 255, 0.08);
			border: 2px solid rgba(255, 255, 255, 0.1);
			border-radius: 14px;
			font-size: 1rem;
			color: white;
			transition: all 0.3s;
		}

			.form-select option {
				background: #0f1729;
				color: white;
			}

		select option {
			background-color: #0f1729 !important;
			color: #ffffff !important;
		}

		.form-input:focus, .form-select:focus {
			outline: none;
			border-color: #667eea;
			background: rgba(255, 255, 255, 0.12);
			box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
		}

		.form-row {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 20px;
		}

		.modal-actions {
			display: flex;
			gap: 16px;
			margin-top: 36px;
			justify-content: flex-end;
			padding-top: 20px;
			border-top: 1px solid rgba(255, 255, 255, 0.1);
		}

		.btn-cancel {
			background: rgba(255, 255, 255, 0.08);
			border: 2px solid rgba(255, 255, 255, 0.1);
			color: rgba(255, 255, 255, 0.8);
			padding: 14px 28px;
			border-radius: 14px;
			font-weight: 700;
			cursor: pointer;
			transition: all 0.3s;
		}

			.btn-cancel:hover {
				background: rgba(255, 255, 255, 0.12);
				transform: translateY(-2px);
			}

		/* Delete Confirmation Modal */
		.delete-confirm-modal {
			text-align: center;
			padding: 30px;
		}

		.warning-icon {
			font-size: 3rem;
			color: #ef4444;
			margin-bottom: 20px;
			animation: pulse 2s infinite;
		}

		@@keyframes pulse {
			0%, 100% {
				transform: scale(1);
			}

			50% {
				transform: scale(1.1);
			}
		}

		.delete-confirm-modal h3 {
			color: white;
			margin-bottom: 10px;
			font-size: 1.5rem;
		}

		.delete-confirm-modal p {
			color: rgba(255, 255, 255, 0.7);
			margin-bottom: 30px;
		}

		.delete-actions {
			display: flex;
			gap: 15px;
			justify-content: center;
		}

		.btn-delete-confirm {
			background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
			color: white;
			border: none;
			padding: 14px 28px;
			border-radius: 14px;
			font-weight: 700;
			font-size: 1rem;
			cursor: pointer;
			box-shadow: 0 10px 25px rgba(239, 68, 68, 0.4);
			transition: transform 0.15s ease, box-shadow 0.15s ease;
		}

			.btn-delete-confirm:hover {
				transform: translateY(-2px) scale(1.03);
				box-shadow: 0 15px 40px rgba(239, 68, 68, 0.6);
			}

			.btn-delete-confirm:active {
				transform: scale(0.95);
			}

			.btn-delete-confirm:disabled {
				opacity: 0.6;
				cursor: not-allowed;
				transform: none;
			}

		/* Scrollbar */
		::-webkit-scrollbar {
			width: 10px;
		}

		::-webkit-scrollbar-track {
			background: rgba(255, 255, 255, 0.08);
			border-radius: 10px;
		}

		::-webkit-scrollbar-thumb {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			border-radius: 10px;
		}

		/* Responsive */
		@@media (max-width: 768px) {
			.stats-grid {
				grid-template-columns: 1fr;
			}

			.nav-links {
				flex-wrap: wrap;
			}

			.form-row {
				grid-template-columns: 1fr;
			}

			.modal-box {
				width: 95%;
				padding: 25px;
			}

			.carousel-controls {
				gap: 10px;
			}

			.carousel-btn-circle {
				width: 40px;
				height: 40px;
			}
		}
	</style>
</head>
<body>
	<div class="shape shape-1"></div>
	<div class="shape shape-2"></div>
	<div class="shape shape-3"></div>

	<div id="dashboard-view">
		<!-- Header -->
		<header class="admin-header">
			<div class="header-left">
				<div class="nav-logo-box"></div>
				<span class="header-title">Instructor Portal</span>
			</div>
			<nav class="nav-links">
				<a href="/Instructor/insDiplayStudents" class="nav-link">Students</a>
				<a href="/Instructor/Courses" class="nav-link">Courses</a>
				<a href="/Instructor/Exams" class="nav-link active">Exams</a>
			</nav>
			<a href="/Home/LoginPage" class="nav-link logout-btn">Logout</a>
		</header>

		<!-- Main Content -->
		<main class="main-content">
			<!-- Stats Cards -->
			<div class="stats-grid">
				<div class="stat-card">
					<div class="stat-icon">📝</div>
					<div class="stat-info">
						<h3>Total Exams</h3>
						<p id="stat-total">@Model.Count</p>
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">⏳</div>
					<div class="stat-info">
						<h3>Upcoming</h3>
						<p id="stat-upcoming">@Model.Count(e => e.Date >= DateOnly.FromDateTime(DateTime.Now))</p>
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">✅</div>
					<div class="stat-info">
						<h3>Completed</h3>
						<p id="stat-completed">@Model.Count(e => e.Date < DateOnly.FromDateTime(DateTime.Now))</p>
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">👥</div>
					<div class="stat-info">
						<h3>Avg. Students</h3>
						<p id="stat-avg">45</p>
					</div>
				</div>
			</div>

			<!-- Exams Table -->
			<div class="data-panel">
				<div class="panel-header">
					<h2 class="panel-title">📝 Exam Management</h2>
					<button class="btn-add" onclick="openAddExamModal()">+ Create Exam</button>
				</div>

				<!-- Carousel Navigation -->
				<div class="carousel-controls">
					<button class="carousel-btn-circle" id="examPrevBtn" onclick="moveCarousel(-1)">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
							 stroke="#667eea" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<polyline points="15 18 9 12 15 6"></polyline>
						</svg>
					</button>

					<div class="carousel-info">
						<span class="carousel-indicator">
							Page <span id="currentPage">1</span> of <span id="totalPages">1</span>
						</span>
					</div>

					<button class="carousel-btn-circle" id="examNextBtn" onclick="moveCarousel(1)">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
							 stroke="#667eea" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<polyline points="9 18 15 12 9 6"></polyline>
						</svg>
					</button>
				</div>

				<!-- Table -->
				<div class="table-carousel-container">
					<div class="table-carousel-wrapper" id="tableCarousel">
						<table>
							<thead>
								<tr>
									<th>Exam ID</th>
									<th>Course</th>
									<th>Date</th>
									<th>Time</th>
									<th>Duration</th>
									<th>Full Marks</th>
									<th>Questions</th>
									<th>Status</th>
									<th>Actions</th>
								</tr>
							</thead>
							<tbody id="examTableBody">
								@foreach (var exam in Model)
								{
									<tr class="exam-row" data-exam-id="@exam.Exam_Id">
										<td style="font-weight: 600; color: #667eea">#@exam.Exam_Id.ToString("D3")</td>
										<td>@exam.Course_Name</td>
										<td>@exam.Date?.ToString("yyyy-MM-dd")</td>
										<td>@exam.Time?.ToString("hh:mm tt")</td>
										<td>@exam.Duration hrs</td>
										<td>@exam.Full_Marks</td>
										<td><span class="badge badge-purple">@exam.QuestionCount</span></td>
										<td>
											@if (exam.Date < DateOnly.FromDateTime(DateTime.Now))
											{
												<span class="badge badge-success">Completed</span>
											}
											else
											{
												<span class="badge badge-warning">Upcoming</span>
											}
										</td>
										<td>
											<button class="action-btn btn-view">View</button>
											<button class="action-btn btn-edit" data-exam-id="@exam.Exam_Id">Edit</button>
											<button class="action-btn btn-delete" data-exam-id="@exam.Exam_Id" data-course-name="@exam.Course_Name">Delete</button>
										</td>
									</tr>
								}
							</tbody>
						</table>
						<div class="carousel-dots" id="carouselDots"></div>
					</div>
				</div>
			</div>
		</main>
	</div>

	<!-- Add/Edit Exam Modal -->
	<div id="examModal" class="modal-overlay hidden">
		<p id="examErrorMsg"
		   style="display:none; color:#ef4444; font-weight:600; margin-bottom:15px;">
		</p>
		<div class="modal-box">
			<h2 class="modal-title" id="modalTitle">Create New Exam</h2>
			<form id="examForm" method="post" action="/Instructor/CreateExam">
				@Html.AntiForgeryToken()
				<input type="hidden" id="examId" name="ExamId" value="0" />
				<input type="hidden" id="questionCount" name="QuestionCount" value="0" />

				<div class="form-group">
					<label for="courseId">Course</label>
					<select class="form-select" id="courseId" name="CourseId" required>
						<option value="">Select Course</option>
						@foreach (var course in ViewBag.Courses)
						{
							<option value="@course.CourseId">@course.CourseName</option>
						}
					</select>
				</div>

				<div class="form-row">
					<div class="form-group">
						<label>TARGET BRANCH</label>
						<select name="BranchId" class="form-input" required>
							<option value="">Select Branch</option>
							@foreach (var branch in (List<Branch>)ViewBag.Branches)
							{
								<option value="@branch.BranchId">@branch.BranchName</option>
							}
						</select>
					</div>

					<div class="form-group">
						<label>TARGET TRACK</label>
						<select name="TrackId" class="form-input" required>
							<option value="">Select Track</option>
							@foreach (var track in (List<Track>)ViewBag.Tracks)
							{
								<option value="@track.TrackId">@track.TrackName</option>
							}
						</select>
					</div>
				</div>

				<div class="form-row">
					<div class="form-group">
						<label for="examDate">Exam Date</label>
						<input type="date" id="examDate" name="Date" class="form-input" required
							   min="@DateTime.Now.ToString("yyyy-MM-dd")" />
					</div>
					<div class="form-group">
						<label for="examTime">Exam Time</label>
						<input type="time" id="examTime" name="Time" class="form-input" required />
					</div>
				</div>

				<div class="form-row">
					<div class="form-group">
						<label for="duration">Duration (hours)</label>
						<input type="number" id="duration" name="Duration" step="0.5" min="0.5" max="10"
							   class="form-input" placeholder="e.g., 2.5" required />
					</div>
					<div class="form-group">
						<label for="fullMarks">Full Marks</label>
						<input type="number" id="fullMarks" name="FullMarks" min="1" max="500"
							   class="form-input" placeholder="e.g., 100" required />
					</div>
				</div>

				<div class="form-group">
					<label style="margin-bottom: 15px;">Question Types</label>
					<div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 14px;">
						<div class="form-row">
							<div class="form-group">
								<label for="mcqCount">MCQ Questions</label>
								<input type="number" id="mcqCount" name="McqCount" min="0" max="50"
									   class="form-input" placeholder="Number of MCQ" />
							</div>
							<div class="form-group">
								<label for="mcqMarks">MCQ Marks Each</label>
								<input type="number" id="mcqMarks" name="McqMarks" min="1" max="10"
									   class="form-input" placeholder="Marks per MCQ" />
							</div>
						</div>

						<div class="form-row">
							<div class="form-group">
								<label for="trueFalseCount">True/False Questions</label>
								<input type="number" id="trueFalseCount" name="TrueFalseCount" min="0" max="50"
									   class="form-input" placeholder="Number of T/F" />
							</div>
							<div class="form-group">
								<label for="trueFalseMarks">T/F Marks Each</label>
								<input type="number" id="trueFalseMarks" name="TrueFalseMarks" min="1" max="10"
									   class="form-input" placeholder="Marks per T/F" />
							</div>
						</div>
					</div>
				</div>

				<div class="form-group">
					<label for="instructions">Special Instructions (Optional)</label>
					<textarea id="instructions" name="Instructions" class="form-input"
							  rows="3" placeholder="Any special instructions..."></textarea>
				</div>

				<div class="modal-actions">
					<button type="button" class="btn-cancel" onclick="closeExamModal()">Cancel</button>
					<button type="submit" class="btn-add" id="modalSubmitBtn">Create Exam</button>
				</div>
			</form>
		</div>
	</div>

	<!-- Delete Confirmation Modal -->
	<div id="deleteModal" class="modal-overlay hidden">
		<div class="modal-box delete-confirm-modal">
			<div class="warning-icon">⚠️</div>
			<h3>Delete Exam</h3>
			<p>
				Are you sure you want to delete this exam?<br>
				<span id="deleteExamName" style="color: #ef4444; font-weight: 600;"></span>
			</p>
			<p style="color: rgba(255, 255, 255, 0.5); font-size: 0.9rem;">
				This action cannot be undone. All exam data will be permanently deleted.
			</p>

			<div class="delete-actions">
				<button type="button" class="btn-cancel" onclick="closeDeleteModal()">Cancel</button>
				<button type="button" id="confirmDeleteBtn" class="btn-delete-confirm"
						onclick="confirmDeleteExam()">
					Delete Exam
				</button>
			</div>
		</div>
	</div>

	<!-- View Exam Details Modal -->
	<div id="viewExamModal" class="modal-overlay hidden">
		<div class="modal-box" style="max-width: 700px;">
			<h2 class="modal-title">📋 Exam Details</h2>

			<div style="background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 20px;">
				<!-- Exam ID and Course -->
				<div style="margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
						<div>
							<label style="color: rgba(255, 255, 255, 0.6); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 8px; display: block;">Exam ID</label>
							<p id="viewExamId" style="color: #667eea; font-size: 1.5rem; font-weight: 800; margin: 0;">#001</p>
						</div>
						<div>
							<label style="color: rgba(255, 255, 255, 0.6); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 8px; display: block;">Course</label>
							<p id="viewCourseName" style="color: white; font-size: 1.2rem; font-weight: 700; margin: 0;">-</p>
						</div>
					</div>
				</div>

				<!-- Branch and Track -->
				<div style="margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
						<div>
							<label style="color: rgba(255, 255, 255, 0.6); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 8px; display: block;">📍 Branch</label>
							<p id="viewBranchName" style="color: white; font-size: 1.1rem; font-weight: 600; margin: 0;">-</p>
						</div>
						<div>
							<label style="color: rgba(255, 255, 255, 0.6); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 8px; display: block;">🎯 Track</label>
							<p id="viewTrackName" style="color: white; font-size: 1.1rem; font-weight: 600; margin: 0;">-</p>
						</div>
					</div>
				</div>

				<!-- Date, Time, Duration -->
				<div style="margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
					<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
						<div>
							<label style="color: rgba(255, 255, 255, 0.6); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 8px; display: block;">📅 Date</label>
							<p id="viewExamDate" style="color: white; font-weight: 600; margin: 0;">-</p>
						</div>
						<div>
							<label style="color: rgba(255, 255, 255, 0.6); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 8px; display: block;">🕐 Time</label>
							<p id="viewExamTime" style="color: white; font-weight: 600; margin: 0;">-</p>
						</div>
						<div>
							<label style="color: rgba(255, 255, 255, 0.6); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 8px; display: block;">⏱️ Duration</label>
							<p id="viewDuration" style="color: white; font-weight: 600; margin: 0;">-</p>
						</div>
					</div>
				</div>

				<!-- Question Breakdown -->
				<div style="margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">
					<label style="color: rgba(255, 255, 255, 0.7); font-size: 0.95rem; text-transform: uppercase; margin-bottom: 15px; display: block; font-weight: 700;">📝 Question Breakdown</label>
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
						<!-- MCQ -->
						<div style="background: rgba(102, 126, 234, 0.1); padding: 15px; border-radius: 12px; border: 2px solid rgba(102, 126, 234, 0.3);">
							<div style="color: #667eea; font-size: 0.85rem; font-weight: 700; margin-bottom: 8px;">Multiple Choice (MCQ)</div>
							<div style="display: flex; justify-content: space-between; align-items: center;">
								<span style="color: white; font-size: 1.8rem; font-weight: 900;" id="viewMcqCount">0</span>
								<span style="color: rgba(255, 255, 255, 0.6); font-size: 0.9rem;">
									<span id="viewMcqMarks">0</span> marks each
								</span>
							</div>
						</div>

						<!-- True/False -->
						<div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 12px; border: 2px solid rgba(16, 185, 129, 0.3);">
							<div style="color: #10b981; font-size: 0.85rem; font-weight: 700; margin-bottom: 8px;">True/False</div>
							<div style="display: flex; justify-content: space-between; align-items: center;">
								<span style="color: white; font-size: 1.8rem; font-weight: 900;" id="viewTfCount">0</span>
								<span style="color: rgba(255, 255, 255, 0.6); font-size: 0.9rem;">
									<span id="viewTfMarks">0</span> marks each
								</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Total Summary -->
				<div style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%); padding: 20px; border-radius: 12px;">
					<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; text-align: center;">
						<div>
							<label style="color: rgba(255, 255, 255, 0.7); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 5px; display: block;">Total Questions</label>
							<p id="viewTotalQuestions" style="color: white; font-size: 2rem; font-weight: 900; margin: 0;">0</p>
						</div>
						<div>
							<label style="color: rgba(255, 255, 255, 0.7); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 5px; display: block;">Full Marks</label>
							<p id="viewFullMarks" style="color: white; font-size: 2rem; font-weight: 900; margin: 0;">0</p>
						</div>
					</div>
				</div>
			</div>

			<div class="modal-actions">
				<button type="button" class="btn-cancel" onclick="closeViewModal()">Close</button>
			</div>
		</div>
	</div>
	<script>
				// ===================================================================
				// GLOBAL VARIABLES
				// ===================================================================
				let currentCarouselPage = 1;
				let itemsPerPage = 6;
				let totalItems = 0;
				let allExamRows = [];
				let examIdToDelete = null;
				let isEditMode = false;

				// ===================================================================
				// CAROUSEL FUNCTIONS
				// ===================================================================
				function initializeCarousel() {
					const tbody = document.getElementById('examTableBody');
					if (!tbody) {
						console.error('examTableBody not found!');
						return;
					}

					allExamRows = Array.from(tbody.querySelectorAll('tr.exam-row'));
					totalItems = allExamRows.length;

					if (totalItems === 0) {
						console.warn('No exam data found');
						return;
					}

					renderCarouselPage(1);
				}

				function renderCarouselPage(pageNumber) {
					currentCarouselPage = pageNumber;
					const totalPages = Math.ceil(totalItems / itemsPerPage);

					const currentPageEl = document.getElementById('currentPage');
					const totalPagesEl = document.getElementById('totalPages');

					if (currentPageEl) currentPageEl.textContent = currentCarouselPage;
					if (totalPagesEl) totalPagesEl.textContent = totalPages;

					const startIndex = (currentCarouselPage - 1) * itemsPerPage;
					const endIndex = Math.min(startIndex + itemsPerPage, totalItems);

					allExamRows.forEach((row, index) => {
						row.style.display = (index >= startIndex && index < endIndex) ? '' : 'none';
					});

					const prevBtn = document.getElementById('examPrevBtn');
					const nextBtn = document.getElementById('examNextBtn');

					if (prevBtn) prevBtn.disabled = currentCarouselPage === 1;
					if (nextBtn) nextBtn.disabled = currentCarouselPage === totalPages;

					renderCarouselDots(totalPages);
				}

				function renderCarouselDots(totalPages) {
					const dotsContainer = document.getElementById('carouselDots');
					if (!dotsContainer) return;

					dotsContainer.innerHTML = '';
					if (totalPages <= 1) return;

					for (let i = 1; i <= totalPages; i++) {
						const dot = document.createElement('button');
						dot.className = 'carousel-dot' + (i === currentCarouselPage ? ' active' : '');
						dot.type = 'button';
						dot.onclick = () => goToPage(i);
						dot.setAttribute('aria-label', `Go to page ${i}`);
						dotsContainer.appendChild(dot);
					}
				}

				function moveCarousel(direction) {
					const totalPages = Math.ceil(totalItems / itemsPerPage);
					const newPage = currentCarouselPage + direction;

					if (newPage >= 1 && newPage <= totalPages) {
						renderCarouselPage(newPage);
					}
				}

				function goToPage(pageNumber) {
					renderCarouselPage(pageNumber);
				}

				// ===================================================================
				// MODAL FUNCTIONS
				// ===================================================================
				function openAddExamModal() {
					const modal = document.getElementById('examModal');
					const form = document.getElementById('examForm');

					document.getElementById('modalTitle').textContent = 'Create New Exam';
					form.reset();

					// ✅ CRITICAL FIX: Explicitly set action to CreateExam
					form.action = '/Instructor/CreateExam';

					document.getElementById('examId').value = '0';
					document.getElementById('modalSubmitBtn').textContent = 'Create Exam';
					isEditMode = false;

					const today = new Date().toISOString().split('T')[0];
					document.getElementById('examDate').min = today;

					modal.classList.remove('hidden');
				}

							   function openEditExamModal(examId) {
					console.log('Opening edit modal for exam:', examId);

					fetch(`/Instructor/GetExam?examId=${examId}`)
						.then(res => {
							if (!res.ok) throw new Error('Failed to fetch exam data');
							return res.json();
						})
						.then(data => {
							console.log('Exam data received:', data);

							// Populate ALL form fields
							document.getElementById('examId').value = data.examId;
							document.getElementById('courseId').value = data.courseId;
							document.getElementById('examDate').value = data.date;
							document.getElementById('examTime').value = data.time;
							document.getElementById('duration').value = data.duration;
							document.getElementById('fullMarks').value = data.fullMarks;
							document.getElementById('questionCount').value = data.questionCount;

							// ⭐ ADD THESE - Populate Branch and Track
							const branchSelect = document.querySelector('select[name="BranchId"]');
							const trackSelect = document.querySelector('select[name="TrackId"]');

							if (branchSelect && data.branchId) {
								branchSelect.value = data.branchId;
							}
							if (trackSelect && data.trackId) {
								trackSelect.value = data.trackId;
							}

							// ⭐ ADD THESE - Populate MCQ/TF fields if available
							if (data.mcqCount !== undefined) {
								document.getElementById('mcqCount').value = data.mcqCount || 0;
							}
							if (data.mcqMarks !== undefined) {
								document.getElementById('mcqMarks').value = data.mcqMarks || 0;
							}
							if (data.trueFalseCount !== undefined) {
								document.getElementById('trueFalseCount').value = data.trueFalseCount || 0;
							}
							if (data.trueFalseMarks !== undefined) {
								document.getElementById('trueFalseMarks').value = data.trueFalseMarks || 0;
							}

							// ⭐ CRITICAL: Set form action to UpdateExam
							document.getElementById('examForm').action = '/Instructor/UpdateExam';
							document.getElementById('modalSubmitBtn').textContent = 'Update Exam';
							document.getElementById('modalTitle').textContent = 'Edit Exam';

							isEditMode = true;

							// Show modal
							document.getElementById('examModal').classList.remove('hidden');
						})
						.catch(error => {
							console.error('Error loading exam data:', error);
							alert('Failed to load exam data: ' + error.message);
						});
				}
							 function closeExamModal() {
					const form = document.getElementById('examForm');

					form.reset();
					document.getElementById('examId').value = '0';
					form.action = '/Instructor/CreateExam';

					document.getElementById('examModal').classList.add('hidden');
					isEditMode = false;
				}

				// ===================================================================
				// DELETE FUNCTIONS
				// ===================================================================
				function showDeleteConfirm(examId, examName) {
					console.log('Opening delete modal for:', examId, examName);
					examIdToDelete = examId;
					document.getElementById('deleteExamName').textContent = examName;
					document.getElementById('deleteModal').classList.remove('hidden');
				}

				function closeDeleteModal() {
					examIdToDelete = null;
					document.getElementById('deleteModal').classList.add('hidden');
				}

				function confirmDeleteExam() {
					if (!examIdToDelete) return;

					const deleteBtn = document.getElementById('confirmDeleteBtn');
					deleteBtn.disabled = true;
					deleteBtn.textContent = 'Deleting...';

					fetch(`/Instructor/DeleteExam?examId=${examIdToDelete}`, {
						method: 'POST',
						headers: {
							'X-Requested-With': 'XMLHttpRequest'
						}
					})
					.then(res => {
						if (!res.ok) throw new Error('Delete failed');
						window.location.reload();
					})
					.catch(error => {
						console.error('Delete failed:', error);
						deleteBtn.disabled = false;
						deleteBtn.textContent = 'Delete Exam';
						alert('Failed to delete exam');
					});
				}

				// ===================================================================
				// AUTO-CALCULATE TOTALS
				// ===================================================================
				function calculateTotals() {
					const mcqCount = parseInt(document.getElementById('mcqCount').value) || 0;
					const mcqMarks = parseInt(document.getElementById('mcqMarks').value) || 0;
					const tfCount = parseInt(document.getElementById('trueFalseCount').value) || 0;
					const tfMarks = parseInt(document.getElementById('trueFalseMarks').value) || 0;

					const totalQuestions = mcqCount + tfCount;
					document.getElementById('questionCount').value = totalQuestions;

					const totalMarks = (mcqCount * mcqMarks) + (tfCount * tfMarks);
					if (totalMarks > 0) {
						document.getElementById('fullMarks').value = totalMarks;
					}
				}

				// ===================================================================
				// INITIALIZATION
				// ===================================================================
				document.addEventListener('DOMContentLoaded', function() {
					console.log('Page loaded, initializing...');

					// Initialize carousel
					initializeCarousel();

					// Event delegation for edit buttons
					document.addEventListener('click', function(e) {
						const editBtn = e.target.closest('.btn-edit');
						if (editBtn) {
							e.preventDefault();
							e.stopPropagation();

							const examId = editBtn.getAttribute('data-exam-id');
							console.log('Edit button clicked for exam:', examId);

							if (examId) {
								openEditExamModal(parseInt(examId));
							}
						}
					});

					// Event delegation for delete buttons
					document.addEventListener('click', function(e) {
						const deleteBtn = e.target.closest('.btn-delete');
						if (deleteBtn) {
							e.preventDefault();
							e.stopPropagation();

							const examId = deleteBtn.getAttribute('data-exam-id');
							const courseName = deleteBtn.getAttribute('data-course-name');
							console.log('Delete button clicked for:', examId, courseName);

							if (examId) {
								showDeleteConfirm(parseInt(examId), courseName);
							}
						}
					});

					// Auto-calculate inputs
					['mcqCount', 'mcqMarks', 'trueFalseCount', 'trueFalseMarks'].forEach(id => {
						const el = document.getElementById(id);
						if (el) el.addEventListener('input', calculateTotals);
					});

					// Close modals on overlay click
							// Close modals on overlay click
		['examModal', 'deleteModal', 'viewExamModal'].forEach(modalId => {
			const modal = document.getElementById(modalId);
			if (modal) {
				modal.addEventListener('click', function(e) {
					if (e.target === this) {
						if (modalId === 'examModal') closeExamModal();
						else if (modalId === 'deleteModal') closeDeleteModal();
						else if (modalId === 'viewExamModal') closeViewModal();
					}
				});
			}
		});

		// Keyboard shortcuts
		document.addEventListener('keydown', function(e) {
			if (e.key === 'Escape') {
				closeExamModal();
				closeDeleteModal();
				closeViewModal();
			}

			if (e.target.tagName !== 'INPUT' &&
				e.target.tagName !== 'TEXTAREA' &&
				e.target.tagName !== 'SELECT') {
				if (e.key === 'ArrowLeft') moveCarousel(-1);
				else if (e.key === 'ArrowRight') moveCarousel(1);
			}
		});
				});

						// Event delegation for view buttons
				document.addEventListener('click', function(e) {
					const viewBtn = e.target.closest('.btn-view');
					if (viewBtn) {
						e.preventDefault();
						e.stopPropagation();

						// Get exam ID from the parent row
						const row = viewBtn.closest('tr.exam-row');
						const examId = row.getAttribute('data-exam-id');
						console.log('View button clicked for exam:', examId);

						if (examId) {
							openViewModal(parseInt(examId));
						}
					}
				});
				// ===================================================================
		// VIEW EXAM FUNCTIONS
		// ===================================================================
		function openViewModal(examId) {
			console.log('Opening view modal for exam:', examId);

			fetch(`/Instructor/GetExam?examId=${examId}`)
				.then(res => {
					if (!res.ok) throw new Error('Failed to fetch exam data');
					return res.json();
				})
				.then(data => {
					console.log('Exam data for view:', data);

					// Populate exam details
					document.getElementById('viewExamId').textContent = '#' + String(data.examId).padStart(3, '0');
					document.getElementById('viewCourseName').textContent = data.courseName || '-';
					document.getElementById('viewBranchName').textContent = data.branchName || 'Not Assigned';
					document.getElementById('viewTrackName').textContent = data.trackName || 'Not Assigned';
					document.getElementById('viewExamDate').textContent = data.date || '-';
					document.getElementById('viewExamTime').textContent = data.time || '-';
					document.getElementById('viewDuration').textContent = data.duration ? data.duration + ' hrs' : '-';

					// Question breakdown
					document.getElementById('viewMcqCount').textContent = data.mcqCount || 0;
					document.getElementById('viewMcqMarks').textContent = data.mcqMarks || 0;
					document.getElementById('viewTfCount').textContent = data.trueFalseCount || 0;
					document.getElementById('viewTfMarks').textContent = data.trueFalseMarks || 0;

					// Totals
					const totalQuestions = (data.mcqCount || 0) + (data.trueFalseCount || 0);
					document.getElementById('viewTotalQuestions').textContent = totalQuestions;
					document.getElementById('viewFullMarks').textContent = data.fullMarks || 0;

					// Show modal
					document.getElementById('viewExamModal').classList.remove('hidden');
				})
				.catch(error => {
					console.error('Error loading exam details:', error);
					alert('Failed to load exam details: ' + error.message);
				});
		}

		function closeViewModal() {
			document.getElementById('viewExamModal').classList.add('hidden');
		}

	</script>
</body>
</html>